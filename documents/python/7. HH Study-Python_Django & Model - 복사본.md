# 20190610 - HH Study - 장고 모델



Delete



Update



Restful API



## URL ERROR 발생

![1560133944335](C:\Users\student\AppData\Roaming\Typora\typora-user-images\1560133944335.png)

```html
<form action="/myBoard/{{ board.pk }}/edit_proc/" method="POST">
    {% csrf_token %}
    <label for="title">TITLE</label><br>
    <input type="text" name="title" id="title" value="{{ board.title }}"><br>
    <label for="content">CONTENT</label><br>
    <textarea name="content" id="content" cols="30" rows="10">{{ board.content }}</textarea>
    <input type="submit" value="수정">
</form>
```

## URL  ERROR 원인 및 해결방안

form action url 마지막 인자에 '/' 붙여있다.  이것을 지워야 한다. 만약, 그대로 사용할 경우 urlpatterns 의 설정 마지막에 '/' 붙여주어야 한다.

```python

urlpatterns = [
    path('<int:pk>/edit_proc/', views.edit_proc),
]
```

## URL Namming

만약, 주소 변경 시 urlpattern 과 html 에서 a href 를 모두 바꿔야 하는 번거로움이 있다. 이를 간소화하기 위해 다음과 같이 설정한다.

- urls.py

```python

urlpatterns = [
    path('index/', views.index, name='index'),
    path('new/', views.new, name='new'),
    path('create/', views.create, name='create'),
    path('index/<int:pk>/', views.detail, name='detail'),
    path('<int:pk>/delete/', views.delete, name='delete'),
    path('<int:pk>/edit/', views.edit, name='edit'),
    path('<int:pk>/update/', views.update, name='update'),
]

```

```html
<h1>DETAIL</h1>
{{ board.pk }} 번재 글 <br>
<hr>
<p>제목 : {{ board.title }}</p>
<p>본문 : {{ board.content }}</p>
<a href="{% url 'edit' board.pk %}">EDIT</a>
<a href="{% url 'delete' board.pk %}">DELETE</a><br>
<a href="{% url 'index' %}">MAIN PAGE</a>
```

근데, 만약 APP 들이 늘어나게 된다면????

위와 방식으로는 어떤 APP의 url name 인지 모른다.





URL + URI

www.google.com : 서버 주소

www.github.com/auto-dirve-4/django/test.pdf : 자원의 위치

URI 이지만 URL이 아닌것

www.google.com/search?test=abc : search 까지는 URL이 됨



## HTTP

URI : URL는 정보의 자원을 표현하는 데 집중하여야 한다. 행위가 들어가면 안된다. 소문자와 하이픈(-) 을 사용한다.

자원 

행위



` $ python manage.py show_urls `



pip install ipython



```
from IPython import embed
```



DB가 GET 방식으로 이루어지면 안됨 ; URL에서 직접 쳐서 delete가 이루어짐